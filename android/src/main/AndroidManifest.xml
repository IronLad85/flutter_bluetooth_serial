<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="io.github.edufolly.flutterbluetoothserial">
  <!-- Permissions for Android 11 and below -->
  <uses-permission android:name="android.permission.BLUETOOTH"
    android:maxSdkVersion="30" />
  <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"
    android:maxSdkVersion="30" />
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"
    android:maxSdkVersion="30" />
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"
    android:maxSdkVersion="30" />

  <!-- Permissions for Android 12 and above -->
  <uses-permission android:name="android.permission.BLUETOOTH_SCAN"
    android:usesPermissionFlags="neverForLocation" />
  <uses-permission android:name="android.permission.BLUETOOTH_CONNECT" />

  <!-- For location-based Bluetooth scanning on Android 12+ -->
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
</manifest>